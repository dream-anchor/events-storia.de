

# MenÃ¼-Kompositions-System fÃ¼r Event-Pakete

## Zusammenfassung

Ein intelligentes, paketbasiertes MenÃ¼-Zusammenstellungssystem, das Mitarbeitern ermÃ¶glicht, schnell und fehlerfrei Event-MenÃ¼s zu konfigurieren. Das System leitet durch die Gangauswahl basierend auf dem gewÃ¤hlten Paket und generiert automatisch professionelle Angebote.

---

## GeschÃ¤ftslogik der Pakete

### Network-Aperitivo (69â‚¬ p.P.)
```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ESSEN                                                       â”‚
â”‚ â”œâ”€â”€ Fingerfood (Catering-Katalog)                          â”‚
â”‚ â””â”€â”€ Pasta-Auswahl (Ristorante: Kategorie "Paste")          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GETRÃ„NKE (pro Person)                                       â”‚
â”‚ â”œâ”€â”€ 1Ã— Aperitif (Spritz ODER Cocktail)                     â”‚
â”‚ â”œâ”€â”€ 0,7l Flaschenwein ODER 5Ã— Bier                         â”‚
â”‚ â”œâ”€â”€ 1Ã— Wasser (mit/ohne)                                   â”‚
â”‚ â””â”€â”€ 1Ã— Kaffee-SpezialitÃ¤t                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Business Dinner â€“ Exclusive (99â‚¬ p.P.)
```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ESSEN (3 GÃ¤nge)                                             â”‚
â”‚ â”œâ”€â”€ Gang 1: Vorspeisenplatte (Custom-Position)             â”‚
â”‚ â”œâ”€â”€ Gang 2: Hauptgericht (Fleisch ODER Fisch)              â”‚
â”‚ â””â”€â”€ Gang 3: Dessert                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GETRÃ„NKE (pro Person)                                       â”‚
â”‚ â”œâ”€â”€ 4Ã— Spritz ODER 0,7l offener Wein                       â”‚
â”‚ â”œâ”€â”€ Wasser (mit/ohne, unbegrenzt)                          â”‚
â”‚ â””â”€â”€ Kaffee-SpezialitÃ¤ten                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Gesamte Location (8.500â‚¬ pauschal)
```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ESSEN (4 GÃ¤nge)                                             â”‚
â”‚ â”œâ”€â”€ Gang 1: Vorspeisenplatte (Custom-Position)             â”‚
â”‚ â”œâ”€â”€ Gang 2: Fischgericht                                   â”‚
â”‚ â”œâ”€â”€ Gang 3: Fleischgericht                                 â”‚
â”‚ â””â”€â”€ Gang 4: Dessert                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ GETRÃ„NKE (pro Person)                                       â”‚
â”‚ â”œâ”€â”€ 4Ã— Spritz ODER 0,7l offener Wein                       â”‚
â”‚ â”œâ”€â”€ Wasser (mit/ohne, unbegrenzt)                          â”‚
â”‚ â””â”€â”€ Kaffee-SpezialitÃ¤ten                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## LÃ¶sungsarchitektur

### Neue Komponente: `MenuComposer`

Eine gefÃ¼hrte Gang-fÃ¼r-Gang Auswahl, die:
- Automatisch die richtigen Kategorien filtert
- Bereits ausgewÃ¤hlte GÃ¤nge markiert
- Nur noch fehlende GÃ¤nge zur Auswahl anzeigt
- GetrÃ¤nke-Kontingente verwaltet

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ MENÃœ-ZUSAMMENSTELLUNG                                        â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                              â”‚
â”‚ Business Dinner â€“ Exclusive â”‚ 35 GÃ¤ste                       â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ½ï¸ GANG 1: VORSPEISE                            âœ“ GewÃ¤hlt â”‚ â”‚
â”‚ â”‚    Vorspeisenplatte (hausgemacht)                        â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ¥© GANG 2: HAUPTGERICHT                    âš  AuswÃ¤hlen   â”‚ â”‚
â”‚ â”‚                                                          â”‚ â”‚
â”‚ â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚ â”‚
â”‚ â”‚  â”‚ ğŸŸ FISCH        â”‚  â”‚ ğŸ¥© FLEISCH      â”‚               â”‚ â”‚
â”‚ â”‚  â”‚                 â”‚  â”‚                 â”‚               â”‚ â”‚
â”‚ â”‚  â”‚ Branzino       â”‚  â”‚ Tagliata        â”‚               â”‚ â”‚
â”‚ â”‚  â”‚ Kabeljau       â”‚  â”‚ Ossobuco        â”‚               â”‚ â”‚
â”‚ â”‚  â”‚ Salmone        â”‚  â”‚ Filetto         â”‚               â”‚ â”‚
â”‚ â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ° GANG 3: DESSERT                         â—‹ Noch offen  â”‚ â”‚
â”‚ â”‚    (Nach Hauptgang-Auswahl)                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                              â”‚
â”‚ ğŸ· GETRÃ„NKE-PAUSCHALE                                        â”‚
â”‚                                                              â”‚
â”‚  â—‹ Spritz-Paket (4 Spritz p.P.)                             â”‚
â”‚  â— Wein-Paket (0,7l offener Wein p.P.)      â† AusgewÃ¤hlt    â”‚
â”‚                                                              â”‚
â”‚  âœ“ Wasser (inkl.)                                           â”‚
â”‚  âœ“ Kaffee-SpezialitÃ¤ten (inkl.)                             â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Datenbank-Erweiterungen

### 1. Neue Tabelle: `package_course_config`

Definiert die Gang-Struktur pro Paket:

| Feld | Typ | Beschreibung |
|------|-----|--------------|
| `package_id` | UUID | Referenz zum Paket |
| `course_type` | TEXT | 'starter', 'pasta', 'main_fish', 'main_meat', 'dessert', 'fingerfood' |
| `course_label` | TEXT | "Vorspeise", "Hauptgang (Fleisch/Fisch)" |
| `is_required` | BOOLEAN | Pflichtgang? |
| `allowed_sources` | TEXT[] | ['catering', 'ristorante'] |
| `allowed_categories` | TEXT[] | ['Secondi di pesce', 'Secondi di carne'] |
| `is_custom_item` | BOOLEAN | FÃ¼r "Vorspeisenplatte" (nicht im Katalog) |
| `custom_item_name` | TEXT | "Vorspeisenplatte" |
| `sort_order` | INT | Reihenfolge |

### 2. Neue Tabelle: `package_drink_config`

Definiert die GetrÃ¤nke-Optionen pro Paket:

| Feld | Typ | Beschreibung |
|------|-----|--------------|
| `package_id` | UUID | Referenz zum Paket |
| `drink_group` | TEXT | 'aperitif', 'wine', 'water', 'coffee' |
| `options` | JSONB | Kategorien/Mengen pro Option |
| `quantity_per_person` | TEXT | "1", "0.7l", "unlimited" |
| `is_choice` | BOOLEAN | Entweder/oder Auswahl? |

### 3. Erweiterung: `event_inquiries`

Neues JSON-Feld fÃ¼r die MenÃ¼-Konfiguration:

```json
{
  "menu_selection": {
    "courses": [
      { "course_type": "starter", "item_id": null, "custom_name": "Vorspeisenplatte" },
      { "course_type": "main_fish", "item_id": "ristorante_xxx", "name": "Branzino" },
      { "course_type": "dessert", "item_id": "ristorante_yyy", "name": "TiramisÃ¹" }
    ],
    "drinks": {
      "aperitif_choice": "wine",
      "selected_wine": "Montepulciano d'Abruzzo"
    }
  }
}
```

---

## Komponenten-Architektur

### Neue Dateien

```text
src/components/admin/refine/InquiryEditor/
â”œâ”€â”€ MenuComposer/
â”‚   â”œâ”€â”€ index.tsx              # Hauptkomponente
â”‚   â”œâ”€â”€ CourseSelector.tsx     # Gang-Auswahl mit Kategorien
â”‚   â”œâ”€â”€ DrinkPackageSelector.tsx  # GetrÃ¤nke-Pauschale
â”‚   â”œâ”€â”€ CourseProgress.tsx     # Fortschrittsanzeige
â”‚   â”œâ”€â”€ CustomItemInput.tsx    # FÃ¼r Vorspeisenplatte etc.
â”‚   â””â”€â”€ types.ts               # MenuSelection, CourseConfig
â”‚
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ usePackageMenuConfig.ts  # LÃ¤dt Gang-Konfiguration
```

### Komponenten-Hierarchie

```text
SmartInquiryEditor
â””â”€â”€ EventModules
    â”œâ”€â”€ PackageSelector (existiert)
    â””â”€â”€ MenuComposer (NEU)
        â”œâ”€â”€ CourseProgress
        â”œâ”€â”€ CourseSelector (pro Gang)
        â”‚   â”œâ”€â”€ CategoryFilter
        â”‚   â””â”€â”€ ItemGrid
        â””â”€â”€ DrinkPackageSelector
            â”œâ”€â”€ ChoiceToggle (Spritz/Wein)
            â””â”€â”€ IncludedItems (Wasser, Kaffee)
```

---

## Workflow Integration

### Mitarbeiter-Workflow

```text
1. ANFRAGE Ã–FFNEN
   â””â”€â†’ Paket auswÃ¤hlen (z.B. "Business Dinner")
       â””â”€â†’ MenuComposer wird aktiviert

2. MENÃœ ZUSAMMENSTELLEN
   â”œâ”€â†’ Gang 1: "Vorspeisenplatte" (automatisch vorausgefÃ¼llt)
   â”œâ”€â†’ Gang 2: Fleisch ODER Fisch wÃ¤hlen
   â”‚           â””â”€â†’ Filtert automatisch Restaurant-Karte
   â””â”€â†’ Gang 3: Dessert wÃ¤hlen

3. GETRÃ„NKE KONFIGURIEREN
   â””â”€â†’ Spritz-Paket ODER Wein-Paket wÃ¤hlen

4. ANGEBOT GENERIEREN
   â”œâ”€â†’ AI-Composer erstellt personalisierte E-Mail
   â””â”€â†’ PDF zeigt komplettes MenÃ¼ + GetrÃ¤nke

5. VERSAND
   â””â”€â†’ LexOffice Angebot + E-Mail mit einem Klick
```

---

## PDF-Erweiterung

Das Angebot-PDF zeigt das komplette MenÃ¼ strukturiert:

```text
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ANGEBOT                              â”‚
â”‚                                                              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                              â”‚
â”‚ MENÃœ FÃœR 35 PERSONEN                                         â”‚
â”‚                                                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ VORSPEISE                                              â”‚   â”‚
â”‚ â”‚ Vorspeisenplatte                                       â”‚   â”‚
â”‚ â”‚ (Auswahl italienischer Antipasti)                      â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ HAUPTGANG                                              â”‚   â”‚
â”‚ â”‚ Tagliata di Manzo                                      â”‚   â”‚
â”‚ â”‚ (Geschnittenes Rinderfilet mit Rucola und Parmesan)   â”‚   â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚ â”‚ DESSERT                                                â”‚   â”‚
â”‚ â”‚ TiramisÃ¹                                               â”‚   â”‚
â”‚ â”‚ (Hausgemacht nach Original-Rezept)                     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                              â”‚
â”‚ GETRÃ„NKE-PAUSCHALE (pro Person)                              â”‚
â”‚ â€¢ 0,7l offener Wein (Rot/WeiÃŸ/RosÃ©)                         â”‚
â”‚ â€¢ Wasser mit und ohne KohlensÃ¤ure                           â”‚
â”‚ â€¢ Kaffee-SpezialitÃ¤ten                                       â”‚
â”‚                                                              â”‚
â”‚ â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â” â”‚
â”‚                                                              â”‚
â”‚ Business Dinner â€“ Exclusive         35 Ã— 99,00 â‚¬  3.465,00 â‚¬ â”‚
â”‚                                                              â”‚
â”‚ Zwischensumme (netto)                             3.465,00 â‚¬ â”‚
â”‚ MwSt. 7%                                            242,55 â‚¬ â”‚
â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ â”‚
â”‚ GESAMTBETRAG                                      3.707,55 â‚¬ â”‚
â”‚                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Implementierungsplan

### Phase 1: Datenbank & Konfiguration
1. Migration fÃ¼r `package_course_config` und `package_drink_config`
2. Seed-Daten fÃ¼r die drei Pakete
3. Erweiterung `event_inquiries.menu_selection` (JSONB)

### Phase 2: Kernkomponenten
1. `usePackageMenuConfig` Hook
2. `MenuComposer` Hauptkomponente
3. `CourseSelector` mit Kategorie-Filterung
4. `DrinkPackageSelector` fÃ¼r GetrÃ¤nke-Auswahl

### Phase 3: Integration
1. Einbindung in `EventModules`
2. State-Management im `SmartInquiryEditor`
3. Speichern der MenÃ¼-Auswahl in der Datenbank

### Phase 4: Ausgabe
1. AI-Composer erhÃ¤lt MenÃ¼-Daten
2. PDF-Template fÃ¼r MenÃ¼-Darstellung
3. LexOffice-Integration mit MenÃ¼-Details

---

## Technische Details

### Kategorie-Mapping fÃ¼r Restaurant

| Gang-Typ | Restaurant-Kategorien |
|----------|----------------------|
| `pasta` | "Paste" |
| `main_fish` | "Secondi di pesce" |
| `main_meat` | "Secondi di carne" |
| `dessert` | "I nostri Dolci" |
| `starter` | "Antipasti", "Insalate" |
| `aperitif` | "Cocktai list", "Glamour im Glas" |
| `wine` | "WeiÃŸweine", "ROSÃ‰WEINE", "Rotweine" |

### Catering-Katalog Kategorien

| Gang-Typ | Catering-Kategorien |
|----------|---------------------|
| `fingerfood` | Fingerfood, HÃ¤ppchen |
| `platten` | Platten & Sharing |
| `dessert` | Desserts |

### State-Struktur

```typescript
interface MenuSelection {
  courses: CourseSelection[];
  drinks: DrinkSelection;
}

interface CourseSelection {
  courseType: 'starter' | 'pasta' | 'main_fish' | 'main_meat' | 'dessert' | 'fingerfood';
  itemId: string | null;
  itemName: string;
  itemSource: 'catering' | 'ristorante' | 'custom';
  isCustom: boolean;
}

interface DrinkSelection {
  aperitifChoice: 'spritz' | 'cocktail' | 'wine' | 'beer';
  selectedItems: { id: string; name: string; quantity: number }[];
}
```

---

## Vorteile der LÃ¶sung

| Aspekt | Vorteil |
|--------|---------|
| **Geschwindigkeit** | MenÃ¼ in < 2 Minuten zusammengestellt |
| **Fehlerfreiheit** | Nur gÃ¼ltige Kombinationen mÃ¶glich |
| **Konsistenz** | Gleiche Struktur fÃ¼r alle Mitarbeiter |
| **FlexibilitÃ¤t** | Gang-Konfiguration in DB, nicht im Code |
| **ProfessionalitÃ¤t** | VollstÃ¤ndiges MenÃ¼ im Angebot |
| **Skalierbarkeit** | Neue Pakete ohne Code-Ã„nderungen |

